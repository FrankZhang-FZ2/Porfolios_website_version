<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Qilin Zhang" />

<meta name="date" content="2023-04-20" />

<title>Portfolios 6</title>

<script src="site_libs/header-attrs-2.23/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="p01.html">Wordcloud</a>
</li>
<li>
  <a href="p02.html">Topic Modeling w/ Chinese (LDA)</a>
</li>
<li>
  <a href="p03.html">cleaning&amp;assumption check</a>
</li>
<li>
  <a href="p04.html">EFA&amp;CFA</a>
</li>
<li>
  <a href="p05.html">Multigroup model</a>
</li>
<li>
  <a href="p06.html">IRT(General Partial Credit Model)</a>
</li>
<li>
  <a href="p07.html">Web scraping</a>
</li>
<li>
  <a href="p08.html">simulation&amp;bootstraping</a>
</li>
<li>
  <a href="p09.html">Multi-level modeling</a>
</li>
<li>
  <a href="p10.html">interactive visualization</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Portfolios 6</h1>
<h4 class="author">Qilin Zhang</h4>
<h4 class="date">2023-04-20</h4>

</div>


<p>##PolytomousIRT(General Partial Credit Model)</p>
<p>In this example, I employed Generalized Partial Credit Model (GPCM)
to analyze the data I gathered, aiming to validate the psychometric
properties of a newly developed scale. The goal is to design item that
is highly discriminating for people with high latent trait (i.e. extreme
altruism). The item probablity and information graph provides insight
into this aspect.</p>
<p>You can refer to this paper if you are interested in GPCM Muraki, E.
(1992). A Generalized Partial Credit Model: Application of an EM
Algorithm. Applied Psychological Measurement, 16(2), 159–176.</p>
<p>###cleaning</p>
<pre class="r"><code>#6 factors model without behavioral items
DGS_6model_1 &lt;- DGS %&gt;%
  select(c(DGS_4,DGS_12,DGS_15,DGS_17,DGS_18,DGS_19,DGS_22,DGS_30,DGS_32,DGS_33,DGS_34,DGS_36,DGS_56,DGS_49,DGS_57,DGS_58,DGS_60,DGS_61,DGS_63,DGS_74,DGS_75))</code></pre>
<p>#descriptive of the scale</p>
<pre class="r"><code>visu_likert &lt;- function(x,title){
  x &lt;- as.data.frame(lapply(x,factor))
  likert_x &lt;- likert(x)
  likert_fit_x &lt;- likert.bar.plot(likert_x)
  plot(likert_fit_x)
}

visu_likert(DGS_6model_1)#Prosocial value</code></pre>
<p><img src="p06_files/figure-html/Likert-1.png" width="672" /></p>
<p>###IRT(I only included an example here with one latent variable)</p>
<div id="dropping-rule-is-loading-in-ifa-0.3" class="section level2">
<h2>(dropping rule is loading in IFA &lt; 0.3)</h2>
<pre class="r"><code>  temp &lt;- capture.output({
    DGS_IRT6_1 &lt;- mirt(data = DGS_6model_1,
      model = 1, #this is for one factor
      itemtype = &quot;gpcmIRT&quot; #generalized partial credit model
)
    })</code></pre>
<pre class="r"><code>summary(DGS_IRT6_1)</code></pre>
<pre><code>##           F1     h2
## DGS_4  0.274 0.0752
## DGS_12 0.538 0.2900
## DGS_15 0.660 0.4351
## DGS_17 0.678 0.4599
## DGS_18 0.552 0.3052
## DGS_19 0.422 0.1781
## DGS_22 0.260 0.0675
## DGS_30 0.604 0.3645
## DGS_32 0.545 0.2975
## DGS_33 0.760 0.5780
## DGS_34 0.350 0.1226
## DGS_36 0.572 0.3267
## DGS_56 0.486 0.2361
## DGS_49 0.409 0.1670
## DGS_57 0.627 0.3931
## DGS_58 0.557 0.3102
## DGS_60 0.594 0.3530
## DGS_61 0.733 0.5380
## DGS_63 0.512 0.2623
## DGS_74 0.387 0.1494
## DGS_75 0.397 0.1575
## 
## SS loadings:  6.067 
## Proportion Var:  0.289 
## 
## Factor correlations: 
## 
##    F1
## F1  1</code></pre>
<pre class="r"><code>plot(DGS_IRT6_1, type = &quot;trace&quot;)</code></pre>
<p><img src="p06_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>plot(DGS_IRT6_1, type = &quot;info&quot;)</code></pre>
<p><img src="p06_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<pre class="r"><code>plot(DGS_IRT6_1) #expected score curve</code></pre>
<p><img src="p06_files/figure-html/unnamed-chunk-1-3.png" width="672" /></p>
</div>
<div id="revision-based-on-previous-results" class="section level2">
<h2>revision based on previous results</h2>
<pre class="r"><code>##recommend taking out 4 and 22
DGS_6model_1 &lt;- DGS_6model_1%&gt;%
  select(!c(DGS_4,DGS_22))

  temp &lt;- capture.output({
    DGS_IRT6_1 &lt;- mirt(data = DGS_6model_1,
      model = 1, #this is for one factor
      itemtype = &quot;gpcmIRT&quot; #generalized partial credit model
)
    })</code></pre>
<pre class="r"><code>summary(DGS_IRT6_1)</code></pre>
<pre><code>##           F1    h2
## DGS_12 0.522 0.273
## DGS_15 0.666 0.444
## DGS_17 0.673 0.453
## DGS_18 0.556 0.309
## DGS_19 0.412 0.170
## DGS_30 0.615 0.378
## DGS_32 0.540 0.292
## DGS_33 0.764 0.583
## DGS_34 0.343 0.118
## DGS_36 0.577 0.333
## DGS_56 0.486 0.236
## DGS_49 0.407 0.166
## DGS_57 0.637 0.405
## DGS_58 0.560 0.314
## DGS_60 0.590 0.348
## DGS_61 0.742 0.551
## DGS_63 0.511 0.261
## DGS_74 0.390 0.152
## DGS_75 0.385 0.148
## 
## SS loadings:  5.933 
## Proportion Var:  0.312 
## 
## Factor correlations: 
## 
##    F1
## F1  1</code></pre>
<pre class="r"><code>plot(DGS_IRT6_1, type = &quot;trace&quot;)</code></pre>
<p><img src="p06_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code>#traces suggest that 2-4 options were not commonly used
plot(DGS_IRT6_1, type = &quot;info&quot;)</code></pre>
<p><img src="p06_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
<pre class="r"><code>#item information suggests that we need to improve the ability to identify people on top of the altruism scores. 


#person fit
#mirt::itemfit(DGS_IRT6_1)
#DGS_IRT6_1_person_fit &lt;- mirt::personfit(DGS_IRT6_1)</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
